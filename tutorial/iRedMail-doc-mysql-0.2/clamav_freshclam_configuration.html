<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>7.3. &#37197;&#32622; freshclam&#65292;&#23450;&#26102;&#26356;&#26032;&#30149;&#27602;&#24211;</title><link rel="stylesheet" href="docbook.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="Mail Server Solution for Red Hat Enterprise Linux and CentOS (MySQL)"><link rel="up" href="clamav.html" title="Chapter 7. &#23433;&#35013;&#12289;&#37197;&#32622; ClamAV"><link rel="prev" href="clamav_configuration.html" title="7.2. &#37197;&#32622; ClamAV"><link rel="next" href="clamav_startup.html" title="7.4. &#21551;&#21160; ClamAV"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7.3. &#37197;&#32622; freshclam&#65292;&#23450;&#26102;&#26356;&#26032;&#30149;&#27602;&#24211;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="clamav_configuration.html">Prev</a> </td><th width="60%" align="center">Chapter 7. &#23433;&#35013;&#12289;&#37197;&#32622; ClamAV</th><td width="20%" align="right"> <a accesskey="n" href="clamav_startup.html">Next</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="clamav_freshclam_configuration"></a>7.3. &#37197;&#32622; freshclam&#65292;&#23450;&#26102;&#26356;&#26032;&#30149;&#27602;&#24211;</h2></div></div></div><p>freshclam &#29992;&#20110;&#26356;&#26032;&#30149;&#27602;&#24211;&#65292;&#40664;&#35748;&#30340;&#37197;&#32622;&#25991;&#20214;&#26159; /etc/freshclam.conf&#12290;&#22522;&#26412;&#19981;&#38656;&#35201;&#37197;&#32622;&#12290;</p><p>freshclam &#40664;&#35748;&#27809;&#26377; init &#21551;&#21160;&#33050;&#26412;&#65292;&#21482;&#33021;&#20197;&#25163;&#24037;&#36816;&#34892;&#30340;&#24418;&#24335;&#26469;&#26356;&#26032;&#30149;&#27602;&#24211;&#12290;
iRedMail &#25552;&#20379;&#20102;&#19968;&#20010; init &#21551;&#21160;&#33050;&#26412;&#65292;&#22823;&#23478;&#21487;&#20197;&#20174;&#19979;&#38754;&#30340;&#22320;&#22336;&#19979;&#36733;&#65306;
</p><pre class="programlisting">
http://iredmail.googlecode.com/svn/trunk/iRedMail/samples/freshclam.init
</pre><p>
</p><p>&#22797;&#21046;&#21040; /etc/init.d/ &#30446;&#24405;&#19979;&#65292;&#25913;&#21517;&#20026; 'freshclam'&#65292;&#24182;&#35774;&#32622;&#20026;&#33258;&#21160;&#21551;&#21160;&#65306;
</p><pre class="programlisting">
# cp freshclam.init /etc/init.d/freshclam
# chmod +x /etc/init.d/freshclam
# chkconfig --level 35 freshclam on
</pre><p>
</p><p>&#21478;&#22806;&#36824;&#38656;&#35201;&#20462;&#25913;&#19968;&#19979; freshclam &#30340; PID &#25991;&#20214;&#30340;&#20301;&#32622;&#65306;
</p><pre class="programlisting">
#
# File: /etc/freshclamd.conf
#

PidFile /var/run/clamav/freshclam.pid
</pre><p>
</p><p>/etc/init.d/freshclam &#40664;&#35748;&#35774;&#32622;&#30340;&#26159;&#27599;&#22825;&#26816;&#26597;&#20004;&#27425;&#30149;&#27602;&#24211;&#30340;&#26356;&#26032;&#65292;&#22914;&#26524;&#38656;&#35201;&#20462;&#25913;&#65292;&#35831;&#20462;&#25913; /etc/init.d/freshclam &#25991;&#20214;&#20013;&#30340; 'OPTIONS' &#21464;&#37327;&#37324;&#30340; '-c' &#21442;&#25968;&#21518;&#30340;&#25972;&#25968;&#12290;&#20363;&#22914;&#65306;
</p><pre class="programlisting">
OPTIONS='-d -c 5'   # 5 times per day.
</pre><p>
</p><p>freshclam &#40664;&#35748;&#30340;&#26085;&#24535;&#25991;&#20214;&#26159;&#65306;
</p><pre class="programlisting">
/var/log/clamav/freshclam.log
</pre><p>
</p><p>ClamAV &#40664;&#35748;&#25552;&#20379;&#20102;&#29992;&#20110; logrotate &#30340;&#37197;&#32622;&#25991;&#20214;&#65306;/etc/logrotate.d/clamav&#65292;&#20294;&#26159;&#21482;&#21253;&#21547; clamd &#30340;&#26085;&#24535;&#65292;&#25152;&#20197;&#38656;&#35201;&#21152;&#19978; freshclam &#30340;&#26085;&#24535;&#12290;</p><p>&#25171;&#24320; /etc/logrotate.d/clamav&#65292;&#28155;&#21152; freshclam &#30340;&#26085;&#24535;&#25991;&#20214;&#30340;&#36335;&#24452;&#65306;
</p><pre class="programlisting">
# &#21407;&#26469;&#21482;&#26377; clamd.log &#25991;&#20214;&#65306;
# /var/log/clamav/clamd.log {

# &#22686;&#21152; freshclam.log &#25991;&#20214;&#12290;&#20197;&#31354;&#26684;&#38548;&#24320;&#12290;
/var/log/clamav/clamd.log /var/log/clamav/freshclam.log {
</pre><p>
</p><p>&#30452;&#25509;&#36816;&#34892; freshclam &#21363;&#21487;&#26356;&#26032;&#30149;&#27602;&#24211;&#65306;
</p><pre class="programlisting">
# freshclam
</pre><p>
</p><p>&#30149;&#27602;&#24211;&#40664;&#35748;&#30340;&#36335;&#24452;&#26159;&#65306;
</p><pre class="programlisting">
/var/clamav/
</pre><p>
</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="clamav_configuration.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="clamav.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="clamav_startup.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">7.2. &#37197;&#32622; ClamAV </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 7.4. &#21551;&#21160; ClamAV</td></tr></table></div></body></html>
