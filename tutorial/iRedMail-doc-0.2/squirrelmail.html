<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>10.2. SquirrelMail</title><link rel="stylesheet" href="docbook.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="Mail Server Solution for OpenBSD"><link rel="up" href="webmail.html" title="Chapter 10. Web Mail"><link rel="prev" href="webmail.html" title="Chapter 10. Web Mail"><link rel="next" href="squirrelmail_plugins.html" title="10.3. SquirrelMail Plugins"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10.2. SquirrelMail</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="webmail.html">Prev</a> </td><th width="60%" align="center">Chapter 10. Web Mail</th><td width="20%" align="right"> <a accesskey="n" href="squirrelmail_plugins.html">Next</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="squirrelmail"></a>10.2. SquirrelMail</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="squirrelmail_installation"></a>10.2.1. &#23433;&#35013; SquirrelMail</h3></div></div></div><p>
                </p><div class="orderedlist"><ol type="1"><li><p>&#20174; <a href="http://www.squirrelmail.org/" target="_top">SquerrilMail &#23448;&#26041;&#32593;&#31449;</a> &#30340; <a href="http://www.squirrelmail.org/download.php" target="_top">&#19979;&#36733;&#39029;&#38754;</a> &#19979;&#36733;&#26368;&#26032;&#29256;&#26412;&#65288;&#26412;&#25991;&#26723;&#20351;&#29992;&#30340;&#26159; 1.4.13 &#29256;&#26412;&#65289;&#12290;</p></li><li><p>&#35299;&#21387;&#21040;&#26381;&#21153;&#22120;&#30340; /var/www/htdocs/ &#30446;&#24405;&#65306;

</p><pre class="programlisting">
# export VERSION='1.4.13'
# bzip2 -d squirrelmail-${VERSION}.tar.bz2     
# tar xf squirrelmail-${VERSION}.tar -C /var/www/
# cd /var/www/htdocs/
# ln -s ../squirrelmail-${VERSION} mail
</pre><p>
                    </p></li><li><p>&#35774;&#32622;&#26435;&#38480;&#65306;

</p><pre class="programlisting">
# chown -R www:www /var/www/squirrelmail-${VERSION}/
# chmod -R 755 /var/www/squirrelmail-${VERSION}/
</pre><p>
                    </p></li><li><p>&#21019;&#24314;&#30446;&#24405;&#65292;&#29992;&#20110;&#23384;&#25918;&#37038;&#20214;&#38468;&#20214;&#31561;&#25968;&#25454;&#65306; 

</p><pre class="programlisting">
# cd /var/www/squirrelmail-${VERSION}/
# mkdir data attach
# chown www:www data attach
# chmod 730 attach
</pre><p>
                    </p></li></ol></div><p>
            </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="squirrelmail_configuration"></a>10.2.2. &#37197;&#32622; SquirrelMail</h3></div></div></div><p>
                SquirrelMail &#20026;&#31649;&#29702;&#21592;&#25552;&#20379;&#20102;&#26041;&#20415;&#30340;&#37197;&#32622;&#24037;&#20855;&#65288;&#19968;&#20010; Perl &#33050;&#26412;&#65289;&#65292;&#36816;&#34892;&#20043;&#21518;&#26174;&#31034;&#30340;&#26159;&#36825;&#26679;&#30340;&#33756;&#21333;&#65306;
</p><pre class="programlisting">
# /var/www/htdocs/mail/config/conf.pl

SquirrelMail Configuration : Read: config.php (1.4.0)
---------------------------------------------------------
Main Menu --
1.  Organization Preferences
2.  Server Settings
3.  Folder Defaults
4.  General Options
5.  Themes
6.  Address Books
7.  Message of the Day (MOTD)
8.  Plugins
9.  Database
10. Languages

D.  Set pre-defined settings for specific IMAP servers

C   Turn color on
S   Save data
Q   Quit

Command &gt;&gt;
</pre><p>

</p><p>&#36755;&#20837;&#33756;&#21333;&#21069;&#30340;&#25968;&#23383;&#25110;&#23383;&#27597;&#21363;&#21487;&#36827;&#20837;&#23545;&#24212;&#30340;&#37197;&#32622;&#36873;&#39033;&#12290;</p><p>

&#36825;&#37324;&#26377;&#20960;&#20010;&#21442;&#25968;&#38656;&#35201;&#20462;&#25913;&#65306;

</p><div class="itemizedlist"><ul type="disc"><li><p>Server Settings

    </p><div class="itemizedlist"><ul type="circle"><li><p>Update IMAP Settings

            </p><div class="itemizedlist"><ul type="square"><li><p>IMAP Server&#65288;&#23558; localhost &#25913;&#25104; '127.0.0.1'&#65289;</p></li></ul></div><p>

        </p></li><li><p>Update SMTP Settings
            </p><div class="itemizedlist"><ul type="square"><li><p>SMTP Server&#65288;&#23558; localhost &#25913;&#25104; '127.0.0.1'&#65289;</p></li></ul></div><p>
        </p></li></ul></div><p>

    </p></li><li><p>General Options
        </p><div class="itemizedlist"><ul type="circle"><li><p>Data Directory &#65288;&#35774;&#32622;&#20026;&#65306;/squirrelmail-${VERSION}/data/&#12290;&#19968;&#23450;&#35201;&#35760;&#24471;&#23558;&#36825;&#37324;&#30340; ${VERSION} &#26367;&#25442;&#20026;&#23454;&#38469;&#30340;&#29256;&#26412;&#21495;&#12290;&#65289;</p></li><li><p>Attachment Directory &#65288;&#35774;&#32622;&#20026;&#65306;/squirrelmail-${VERSION}/attach/&#12290;&#19968;&#23450;&#35201;&#35760;&#24471;&#23558;&#36825;&#37324;&#30340; ${VERSION} &#26367;&#25442;&#20026;&#23454;&#38469;&#30340;&#29256;&#26412;&#21495;&#12290;&#65289;</p></li></ul></div><p>
    </p></li><li><p>Languages
        </p><div class="itemizedlist"><ul type="circle"><li><p>Default Language&#65288;&#35774;&#32622;&#20026; zh_CN&#65289;</p></li><li><p>Default Charset&#65288;&#25913;&#25104; gb2312&#65292;&#21542;&#21017;&#20250;&#23548;&#33268;&#37038;&#20214;&#20081;&#30721;&#65289;</p></li></ul></div><p>
    </p></li><li><p>Set pre-defined settings for specific IMAP servers
        </p><div class="itemizedlist"><ul type="circle"><li><p>courier</p></li></ul></div><p>
    </p></li></ul></div><p>

</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important: chrooted apache"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="images/important.png"></td><th align="left">chrooted apache</th></tr><tr><td align="left" valign="top"><p>
        &#22240;&#20026; Apache &#40664;&#35748;&#26159;&#34987; chroot &#22312; /var/www/ &#30446;&#24405;&#19979;&#65292;&#25152;&#20197;&#36825;&#37324;&#30340; "Data Directory" &#21644; "Attachment Directory" &#30446;&#24405;&#24517;&#39035;&#36825;&#20040;&#20889;&#12290;
    </p></td></tr></table></div><p>

</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip: &#26816;&#26597;&#37197;&#32622;"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">&#26816;&#26597;&#37197;&#32622;</th></tr><tr><td align="left" valign="top"><p>&#37197;&#32622;&#23436;&#25104;&#20043;&#21518;&#65292;&#21487;&#20197;&#20351;&#29992; configtest.php &#39029;&#38754;&#24110;&#21161;&#26816;&#26597;&#35774;&#32622;&#26159;&#21542;&#27491;&#30830;&#65306; http://your_server_ip/mail/src/configtest.php</p></td></tr></table></div><p>

OK&#65292;&#22914;&#26524;&#27809;&#26377;&#20160;&#20040;&#38382;&#39064;&#30340;&#35805;&#65292;&#29616;&#22312;&#23601;&#21487;&#20197;&#30331;&#24405; WebMail &#20102;&#65306; http://your_server_ip/mail/ &#12290;&#30475;&#21040;&#30340;&#30331;&#24405;&#30011;&#38754;&#31867;&#20284;&#20110;&#65306;

    </p><div class="figure"><a name="squirrelmail_login_page"></a><p class="title"><b>Figure 10.1. SquirrelMail &#30331;&#24405;&#30028;&#38754;</b></p><div><img src="../../images/squirrelmail/login.png" alt="SquirrelMail &#30331;&#24405;&#30028;&#38754;"></div></div><p>

            </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="squirrelmail_translations"></a>10.2.3. Translations</h3></div></div></div><p>&#21018;&#25165;&#24050;&#32463;&#23433;&#35013;&#21644;&#37197;&#32622;&#22909;&#20102; SquirrelMail&#65292;&#20294;&#26159;&#30028;&#38754;&#36824;&#21482;&#26159;&#33521;&#25991;&#30340;&#65292;&#38656;&#35201;&#23433;&#35013; Translations &#20197;&#25903;&#25345;&#20854;&#23427;&#35821;&#35328;&#30340;&#30028;&#38754;&#26174;&#31034;&#12290;</p><p>&#20174; <a href="http://squirrelmail.org/download.php" target="_top">SquirrelMail &#19979;&#36733;&#39029;&#38754;</a> &#19979;&#36733;&#38656;&#35201;&#30340; translation&#12290;&#36825;&#37324;&#20351;&#29992; all_locales-1.4.13-20071220.tar.bz2&#65292;&#21253;&#21547;&#26368;&#22810;&#31181;&#35821;&#35328;&#30340;&#32763;&#35793;&#65292;&#20320;&#20063;&#21487;&#20197;&#21482;&#19979;&#36733;&#21333;&#20010;&#35821;&#35328;&#30340;&#32763;&#35793;&#21253;&#12290;</p><p>&#19979;&#36733;&#21518;&#23558;&#23427;&#35299;&#21387;&#65292;&#28982;&#21518;&#23558;&#35299;&#21387;&#20986;&#26469;&#30340;&#30446;&#24405;&#21644;&#25991;&#20214;&#22797;&#21046;&#21040;&#23545;&#24212;&#30340;&#30446;&#24405;&#21363;&#21487;&#65306;
</p><pre class="programlisting">
# bzip2 -d all_locales-1.4.13-20071220.tar.bz2
# tar xf all_locales-1.4.13-20071220.tar
</pre><p>
&#35299;&#21387;&#21518;&#22312;&#24403;&#21069;&#30446;&#24405;&#26377;&#19968;&#20010; 'install' &#33050;&#26412;&#65292;&#23427;&#20250;&#22797;&#21046;&#25152;&#26377;&#38656;&#35201;&#30340;&#25991;&#20214;&#65306;
</p><pre class="programlisting">
# sh install
Please enter path to your squirrelmail installation:
</pre><p>

&#22312;&#25552;&#31034;&#31526;&#19979;&#36755;&#20837; SquirrelMail &#30340;&#23433;&#35013;&#22320;&#22336;&#65306;
</p><pre class="programlisting">
/var/www/htdocs/mail/
</pre><p>

&#21040;&#27492;&#65292;Translations &#30340;&#23433;&#35013;&#23601;&#23436;&#25104;&#20102;&#12290;&#20877;&#36890;&#36807; SquirrelMail &#30340;&#37197;&#32622;&#24037;&#20855; 'conf.pl' &#26469;&#35774;&#32622;&#40664;&#35748;&#35821;&#35328;&#21644;&#40664;&#35748;&#30340;&#23383;&#31526;&#38598;&#65306;
</p><pre class="programlisting">
# /var/www/htdocs/mail/config/conf.pl
</pre><p>

&#36873;&#25321; 'Languages' &#19968;&#39033;&#65292;&#20877;&#35774;&#32622;&#20197;&#19979;&#20004;&#20010;&#21442;&#25968;&#65306;
</p><div class="itemizedlist"><ul type="disc"><li><p>Default Language&#65288;&#31616;&#20307;&#20013;&#25991;&#20351;&#29992; 'zh_CN'&#65292;&#32321;&#20307;&#20013;&#25991;&#29992; 'zh_TW'&#65289;</p></li><li><p>Default Charset&#65288;&#31616;&#20307;&#20013;&#25991;&#29992; 'gb2312'&#65292;&#32321;&#20307;&#20013;&#25991;&#29992; 'big5'&#65289;</p></li></ul></div><p>

</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important: Default Charset"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="images/important.png"></td><th align="left">Default Charset</th></tr><tr><td align="left" valign="top"><p>SquirrelMail &#37324;&#30340; 'zh_CN' &#40664;&#35748;&#20351;&#29992; 'gb2312' &#23383;&#31526;&#38598;&#65292;&#32780; phpLDAPadmin &#37324;&#25152;&#26377;&#23646;&#24615;&#30340;&#20540;&#37117;&#26159;&#29992; 'utf-8' &#32534;&#30721;&#20445;&#23384;&#30340;&#65292;&#25152;&#20197;&#22914;&#26524;&#38656;&#35201;&#20351;&#29992; LDAP &#20840;&#23616;&#22320;&#22336;&#31807;&#65292;&#21017;&#38656;&#35201;&#23558; SquirrelMail &#30340; translation &#25991;&#20214;&#30340;&#32534;&#30721;&#32473;&#36716;&#25442;&#25104; 'utf-8' &#32534;&#30721;&#65292;&#21542;&#21017;&#30475;&#21040;&#30340; LDAP &#23646;&#24615;&#30340;&#20540;&#37117;&#23558;&#26159;&#20081;&#30721;&#12290;</p><p>&#36825;&#37324;&#20197; 'zh_CN' &#20026;&#20363;&#65292;&#20171;&#32461;&#22914;&#20309;&#20351;&#29992; 'iconv' &#24037;&#20855;&#26469;&#36716;&#25442;&#23383;&#31526;&#38598;&#12290;</p><p>
</p><pre class="programlisting">
# cd /var/www/htdocs/mail/locale/zh_CN/LC_MESSAGES/
# cp squirrelmail.po squirrelmail.po.bak
# iconv -f gb2312 -t utf-8 squirrelmail.po.bak &gt;squirrelmail.po
</pre><p>

    &#20877;&#32534;&#36753; /var/www/htdocs/mail/locale/zh_CN/setup.php &#25991;&#20214;&#65292;&#23558;&#25991;&#20214;&#37324;&#30340; 'gb2312' &#25913;&#20026; 'utf-8'&#65306;
</p><pre class="programlisting">
$languages['zh_CN']['CHARSET'] = 'utf-8';
$languages['zh_CN']['LOCALE']  = array('zh_CN.UTF8','zh_CN');
</pre><p>

    &#20877;&#32534;&#36753; /var/www/htdocs/mail/functions/i18n.php &#25991;&#20214;&#65292;&#23558;&#25991;&#20214;&#37324;&#30340; 'gb2312' &#25913;&#20026; 'utf-8'&#65306;
</p><pre class="programlisting">
$languages['zh_CN']['CHARSET'] = 'utf-8';
</pre><p>

    &#36825;&#26679;&#23601;&#21487;&#20197;&#20102;&#12290;

    </p></td></tr></table></div><p>

            </p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="webmail.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="webmail.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="squirrelmail_plugins.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 10. Web Mail </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 10.3. SquirrelMail Plugins</td></tr></table></div></body></html>
