<chapter id="preparation"><?dbhtml filename="preparation.html"?>
    <title>预备知识</title>

    <section id="PKG_PATH"><?dbhtml filename="pkg_path.html"?>
        <title>PKG_PATH</title>

        <para>
            PKG_PATH 是一个很特殊的变量，它所指定的是你存放 binary packages 的路径，设置好之后就可以在任意目录下直接用 pkg_add 命令来安装软件：
<programlisting>
# pkg_add package_name
</programlisting>

            这里的 package_name 可以是不带版本号的软件包名称，也可以是软件包的全名。以下三种方式都是正确的：
<programlisting>
# pkg_add zsh
# pkg_add zsh-4.2.6p2
# pkg_add zsh-4.2.6p2.tgz
</programlisting>

            PKG_PATH 所指定的路径既可以是网络地址，也可以是本地路径。以下两种写法都是正确的：

<programlisting>
# export PKG_PATH='ftp://ftp.tw.openbsd.org/pub/OpenBSD/4.2/packages/i386/'
# export PKG_PATH='/mnt/4.2/packages/i386/'
</programlisting>

        <important>
            <title>PKG_PATH</title>
            <para>
                <itemizedlist>
                    <listitem><para>PKG_PATH 所指定的地址必须以斜线（/）结尾。</para></listitem>
                    <listitem><para>为了减轻官方站点的负载，强烈建议使用镜像站点作为 PKG_PATH 变量的路径。</para></listitem>
                </itemizedlist>
            </para>
        </important>

        <tip>
            <title>PKG_PATH</title>
            <para>
                <itemizedlist>
                    <listitem><para>
                        可以将设置 PKG_PATH 的语句放在 ~/.profile 文件中，这样每次登录系统都会自动设置（~/.profile 是 ksh(1) 默认的初始化脚本之一）。
                    </para></listitem>
                    <listitem><para>
                        多个路径可以用冒号（colons）分隔，pkg_add 等工具会按照顺序尝试各个地址：
<programlisting>
# export PKG_PATH='/mnt/4.2/packages/i386/':'ftp://ftp.tw.openbsd.org/pub/OpenBSD/4.2/packages/i386/'
</programlisting>

            这里的 4.2 表示的是 OpenBSD 的版本，而 i386 则是表示系统的平台架构。可以采用更通用的写法来表示这两个值：
<programlisting>
# export PKG_PATH='ftp://ftp.tw.openbsd.org/pub/OpenBSD/$(uname -r)/packages/$(machine -a)/'
</programlisting>

            更详细内容请参考： uname(1)，machine(1)。
                    </para></listitem>
                </itemizedlist>
            </para>
        </tip>

        <note>
            <title>Manual Page</title>
            <para>
                文档里出现的所有形同 'uname(1)' 的写法，都表示这个命令、文件的手册页（Manual Page），请使用 man 命令进行查看或者使用 OpenBSD 网站的在线查看功能。比如： 

<programlisting>
# man uname
# man 1 uname
</programlisting>
                也可以在线浏览手册页，地址是：<ulink url="http://www.openbsd.org/cgi-bin/man.cgi">Manual Pages</ulink>
            </para>
        </note>

        <note>
            <title>pkg_add</title>
            <para>
                本文中所有使用 pkg_add 安装软件的地方，都假设你已经设置好了 PKG_PATH 变量。如果你没有设置 PKG_PATH 变量，请在执行 pkg_add 时使用绝对/相对路径来指定软件包的位置。
            </para>

            <para>
                参考 FAQ：<ulink url="http://openbsd.org/faq/faq15.html#Easy">Making things easy: PKG_PATH</ulink>
            </para>
        </note>

        </para>
    </section>

</chapter>
