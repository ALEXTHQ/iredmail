<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 4. &#39044;&#22791;&#30693;&#35782;&#65288;&#24050;&#23436;&#25104;&#65292;&#31561;&#24453;&#26657;&#23545;&#65289;</title><link rel="stylesheet" href="docbook.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="Mail Server Solution for Red Hat Enterprise Linux and CentOS (OpenLDAP)"><link rel="up" href="index.html" title="Mail Server Solution for Red Hat Enterprise Linux and CentOS (OpenLDAP)"><link rel="prev" href="overview.html" title="Chapter 3. Overview"><link rel="next" href="preparation_system_hostname.html" title="4.2. &#31995;&#32479;&#20027;&#26426;&#21517;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 4. &#39044;&#22791;&#30693;&#35782;&#65288;&#24050;&#23436;&#25104;&#65292;&#31561;&#24453;&#26657;&#23545;&#65289;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="overview.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="preparation_system_hostname.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="preparation"></a>Chapter 4. &#39044;&#22791;&#30693;&#35782;&#65288;&#24050;&#23436;&#25104;&#65292;&#31561;&#24453;&#26657;&#23545;&#65289;</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="preparation.html#preparation_yum_repo">4.1. Yum &#20179;&#24211;</a></span></dt><dd><dl><dt><span class="section"><a href="preparation.html#use_iso_for_createrepo">4.1.1. &#20351;&#29992; ISO &#25991;&#20214;&#21046;&#20316; yum &#20179;&#24211;</a></span></dt><dd><dl><dt><span class="section"><a href="preparation.html#dvd_iso">4.1.1.1. DVD ISO</a></span></dt><dt><span class="section"><a href="preparation.html#cd_iso">4.1.1.2. CD ISO</a></span></dt></dl></dd><dt><span class="section"><a href="preparation.html#preparation_yum_repo_file">4.1.2. &#23450;&#20041; yum &#20179;&#24211;</a></span></dt></dl></dd><dt><span class="section"><a href="preparation_system_hostname.html">4.2. &#31995;&#32479;&#20027;&#26426;&#21517;</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="preparation_yum_repo"></a>4.1. Yum &#20179;&#24211;</h2></div></div></div><p>&#20026;&#20102;&#36991;&#20813;&#20174;&#32593;&#32476;&#19979;&#36733;&#36719;&#20214;&#21253;&#21487;&#33021;&#21457;&#29983;&#30340;&#36719;&#20214;&#21253;&#19981;&#23436;&#25972;&#12289;&#19979;&#36733;&#36895;&#24230;&#24930;&#12289;&#32593;&#32476;&#25925;&#38556;&#31561;&#38382;&#39064;&#65292;&#25105;&#20204;&#24378;&#28872;&#24314;&#35758;&#24744;&#20351;&#29992;&#26412;&#22320;&#30340; DVD/CD iso &#26469;&#21019;&#24314; yum &#20179;&#24211;&#65292;&#36825;&#26679;&#22312;&#23433;&#35013;&#30340;&#26102;&#20505;&#36895;&#24230;&#24555;&#65292; &#32780;&#19988;&#21487;&#20197;&#20445;&#35777;&#25152;&#26377;&#36719;&#20214;&#21253;&#37117;&#33021;&#39034;&#21033;&#23433;&#35013;&#12290;</p><p>&#22914;&#26524;&#24744;&#26377;&#23616;&#22495;&#32593;&#20869;&#30340; yum &#20179;&#24211;&#65292;&#21487;&#20197;&#30452;&#25509;&#20351;&#29992;&#23427;&#65292;&#23601;&#19981;&#38656;&#35201;&#25353;&#29031;&#20197;&#19979;&#30340;&#27493;&#39588;&#37325;&#22797;&#21019;&#24314;&#20102;&#12290;</p><p>&#19979;&#38754;&#30340;&#25805;&#20316;&#37117;&#26159;&#22312;&#24744;&#23433;&#35013;&#22909; RHEL/CentOS &#31995;&#32479;&#21518;&#36827;&#34892;&#30340;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>&#20808;&#20174;&#20809;&#30424;&#25110;&#24050;&#26377;&#30340; YUM &#20179;&#24211;&#23433;&#35013; createrepo &#24037;&#20855;&#65292;&#20197;&#21450;&#32593;&#32476;&#19979;&#36733;&#24037;&#20855; wget&#65306;
</p><pre class="programlisting">
# rpm -ivh createrepo-x.y.z.rpm
# rpm -ivh wget-x.y.z.rpm
</pre><p>

</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>createrepo &#21629;&#20196;&#29992;&#20110;&#29983;&#25104; yum &#20179;&#24211;&#25152;&#24517;&#39035;&#30340;&#19968;&#20123;&#20449;&#24687;&#65292;&#36825;&#20123;&#20449;&#24687;&#37117;&#23384;&#25918;&#22312; repodata/ &#30446;&#24405;&#24213;&#19979;&#65292;&#24744;&#25171;&#24320;&#30475;&#30475;&#23601;&#20250;&#26126;&#30333;&#23427;&#20570;&#20102;&#20123;&#20160;&#20040;&#20107;&#24773;&#12290;</p></td></tr></table></div><p>
            </p></li></ul></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="use_iso_for_createrepo"></a>4.1.1. &#20351;&#29992; ISO &#25991;&#20214;&#21046;&#20316; yum &#20179;&#24211;</h3></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="dvd_iso"></a>4.1.1.1. DVD ISO</h4></div></div></div><p>&#22914;&#26524;&#20320;&#20351;&#29992;&#30340;&#26159; DVD &#20809;&#30424;&#65292;&#21487;&#20197;&#30452;&#25509;&#25346;&#36733;&#20809;&#30424;&#65292;&#28982;&#21518;&#21046;&#20316; yum &#20179;&#24211;&#65306;
</p><pre class="programlisting">
# mkdir /mnt/dvd/
# mount /dev/cdrom /mnt/dvd/
# cd /mnt
# createrepo .
</pre><p>
                </p><p>&#22914;&#26524;&#24744;&#20351;&#29992;&#30340;&#26159;&#23448;&#26041;&#30340; DVD ISO&#65292;&#21017;&#38656;&#35201;&#23558;&#23427;&#22797;&#21046;&#21040;&#31995;&#32479;&#19978;&#65292;&#25346;&#36733;&#21518;&#21046;&#20316; yum &#20179;&#24211;&#65306;
</p><pre class="programlisting">
# mkdir /mnt/dvd/
# mount -o loop /root/rhel5.1-dvd.iso /mnt/dvd
# cd /mnt
# createrepo .
</pre><p>
                </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cd_iso"></a>4.1.1.2. CD ISO</h4></div></div></div><p>&#22914;&#26524;&#24744;&#20351;&#29992;&#30340;&#26159;&#22810;&#20010; CD iso &#25991;&#20214;&#65292;&#38656;&#35201;&#20808;&#22797;&#21046;&#21040;&#31995;&#32479;&#19978;&#65292;&#25346;&#36733;&#21518;&#21046;&#20316; yum &#20179;&#24211;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>&#26377;&#20960;&#20010; ISO &#23601;&#21019;&#24314;&#20960;&#20010;&#30446;&#24405;&#65292;&#24182;&#23558;&#23545;&#24212;&#30340; ISO &#25346;&#36733;&#19978;&#21435;&#65306;

</p><pre class="programlisting">
# mkdir -p /mnt/{1,2,3,4,5,6}
# mount -o loop rhel5.1-disc1.iso /mnt/1
# mount -o loop rhel5.1-disc2.iso /mnt/2
# mount -o loop rhel5.1-disc3.iso /mnt/3
# mount -o loop rhel5.1-disc4.iso /mnt/4
# mount -o loop rhel5.1-disc5.iso /mnt/5
</pre><p>
</p></li><li><p>&#21019;&#24314; yum &#20179;&#24211;&#65306;

</p><pre class="programlisting">
# cd /mnt/
# createrepo .
</pre><p>
</p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="preparation_yum_repo_file"></a>4.1.2. &#23450;&#20041; yum &#20179;&#24211;</h3></div></div></div><p>&#21019;&#24314; yum &#20179;&#24211;&#30340;&#23450;&#20041;&#25991;&#20214;&#65306;/etc/yum.repos.d/dvdiso.repo&#65292;&#28982;&#21518;&#21152;&#20837;&#20197;&#19979;&#20869;&#23481;&#65306;
</p><pre class="programlisting">
[DVDISO]
name=DVD ISO
baseurl=file:///mnt/
enabled=1
gpgcheck=0
</pre><p>
            </p></div><p>&#24378;&#28872;&#24314;&#35758;&#25191;&#34892; 'yum clean all' &#21629;&#20196;&#65292;&#23558;&#25152;&#26377; yum metadata &#31561;&#20449;&#24687;&#28165;&#31354;&#65292;&#20877;&#37325;&#26032;&#33719;&#21462;&#26368;&#26032;&#30340;&#20179;&#24211;&#20449;&#24687;&#65306;
</p><pre class="programlisting">
# yum clean all
# yum list
</pre><p>
</p><p>&#22914;&#26524;&#22312; 'yum list' &#21629;&#20196;&#30340;&#36755;&#20986;&#20013;&#33021;&#22815;&#30475;&#21040;&#21018;&#25165;&#21046;&#20316;&#30340;&#20179;&#24211;&#37324;&#30340;&#36719;&#20214;&#21253;&#30340;&#21517;&#23383;&#65292;&#37027;&#23601;&#26159; OK &#20102;&#12290;&#20877;&#35797;&#30528;&#23433;&#35013;&#19968;&#20010;&#36719;&#20214;&#21253;&#30475;&#26159;&#21542;&#25104;&#21151;&#65306;
</p><pre class="programlisting">
# yum install cyrus-sasl.i386
</pre><p>
</p><p>&#22914;&#26524;&#26159; x86_64 &#24179;&#21488;&#65292;&#21017;&#23558;&#21518;&#38754;&#30340; i386 &#25913;&#20026; x86_64&#65306;
</p><pre class="programlisting">
# yum install cyrus-sasl.x86_64
</pre><p>
</p><p>&#22914;&#26524;&#23433;&#35013;&#25104;&#21151;&#65292;&#34920;&#31034; yum &#20179;&#24211;&#21644; RPM &#21253;&#37117;&#27809;&#38382;&#39064;&#12290;&#21487;&#20197;&#32487;&#32493;&#24448;&#19979;&#36827;&#34892;&#37197;&#32622;&#20102;&#12290;</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="overview.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="preparation_system_hostname.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 3. Overview </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 4.2. &#31995;&#32479;&#20027;&#26426;&#21517;</td></tr></table></div></body></html>
